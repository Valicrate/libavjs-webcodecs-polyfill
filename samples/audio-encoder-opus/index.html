<!doctype html>
<html>
    <head>
        <meta charset="utf8" />
        <title>LibAVJS WebCodecs Polyfill Example: Audio encoder (Opus)</title>
    </head>
    <body>
        <script type="text/javascript" src="../util.js"></script>
        <script type="text/javascript">(function() {
            const worker = new Worker("audio-encoder-opus.js");
            worker.onmessage = async ev => {
                const {a, b} = ev.data;
                for (const opus of [a, b]) {
                    if (!opus)
                        continue;
                    const audio = document.createElement("audio");
                    audio.src = URL.createObjectURL(new Blob([opus]));
                    audio.controls = true;
                    document.body.appendChild(audio);
                }
            };
        })();</script>
    </body>
</html>
